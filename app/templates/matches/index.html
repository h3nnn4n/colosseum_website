{% extends 'base.html' %}

{% block title %} Matches {% endblock %}

{% block content %}
<h1> Matches </h1>

<div>
  <table class="table table-hover table-striped table-sm">
    <thead>
      <th scope="col"> Agent 1 </th>
      <th scope="col"> Agent 2 </th>
      <th scope="col"> Result </th>
      <th scope="col"> Tournament </th>
      <th scope="col"> When </th>
      <th scope="col"> Replay </th>
    </thead>
    <tbody>
      {% for match in matches %}
      <tr>
        <td> {{ match.player1_elo_change }} {{ match.player1.name }} </td>
        <td> {{ match.player2_elo_change }} {{ match.player2.name }} </td>
        <td> {{ match.pretty_result }} </td>
        <td>
          <a href={% url 'tournament_detail' match.tournament.id %}>
            {{ match.tournament.name }}
          </a>
        </td>
        <td> {{ match.ran_at | date:"Y-m-d H:i:s" }} </td>

        {% if match.replay %}
          <td> <a href={{ match.replay.url }}> Download </a> </td>
        {% else %}
          <td> - </td>
        {% endif %}
      </tr>
      {% endfor %}
    </tbody>
  </table>
<div>

{% endblock %}
